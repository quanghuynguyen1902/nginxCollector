{"remainingRequest":"/home/quanghuy/Desktop/dashboard/montoring/node_modules/babel-loader/lib/index.js!/home/quanghuy/Desktop/dashboard/montoring/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/quanghuy/Desktop/dashboard/montoring/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quanghuy/Desktop/dashboard/montoring/src/components/user-detail/UserListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quanghuy/Desktop/dashboard/montoring/src/components/user-detail/UserListTable.vue","mtime":1619520963846},{"path":"/home/quanghuy/Desktop/dashboard/montoring/node_modules/cache-loader/dist/cjs.js","mtime":1612063424763},{"path":"/home/quanghuy/Desktop/dashboard/montoring/node_modules/babel-loader/lib/index.js","mtime":1613788894194},{"path":"/home/quanghuy/Desktop/dashboard/montoring/node_modules/cache-loader/dist/cjs.js","mtime":1612063424763},{"path":"/home/quanghuy/Desktop/dashboard/montoring/node_modules/vue-loader/lib/index.js","mtime":1613788894243}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvcXVhbmdodXkvRGVza3RvcC9kYXNoYm9hcmQvbW9udG9yaW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3F1YW5naHV5L0Rlc2t0b3AvZGFzaGJvYXJkL21vbnRvcmluZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvdXNlclNlcnZpY2UiOwppbXBvcnQgQXBpIGZyb20gIkAvY29uc3RhbnRzL2JhY2tlbmRBcGkiOwppbXBvcnQgRGV0YWlsUmVxdWVzdCBmcm9tICJAL2NvbXBvbmVudHMvRGV0YWlsUmVxdWVzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlckxpc3RUYWJsZSIsCiAgY29tcG9uZW50czogewogICAgRGV0YWlsUmVxdWVzdDogRGV0YWlsUmVxdWVzdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IFtdLAogICAgICBjb2xsYXBzZUR1cmF0aW9uOiAwLAogICAgICBmaWVsZHM6IFt7CiAgICAgICAga2V5OiAidXNlcl9pZCIKICAgICAgfSwgewogICAgICAgIGtleTogInVybCIKICAgICAgfSwgewogICAgICAgIGtleTogInJlcXVlc3RfbWV0aG9kIgogICAgICB9LCB7CiAgICAgICAga2V5OiAic3RhdHVzIgogICAgICB9LCB7CiAgICAgICAga2V5OiAic2hvd19kZXRhaWxzIiwKICAgICAgICBsYWJlbDogIkRldGFpbCIsCiAgICAgICAgX3N0eWxlOiAid2lkdGg6MSUiLAogICAgICAgIHNvcnRlcjogZmFsc2UsCiAgICAgICAgZmlsdGVyOiBmYWxzZQogICAgICB9XSwKICAgICAgcGFnZTogMSwKICAgICAgdG90YWxwYWdlOiAxCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKHRvLCBmcm9tKSB7CiAgICAgIGlmICh0byAhPT0gZnJvbSkgewogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgY2hhbmdlRGF0YTogZnVuY3Rpb24gY2hhbmdlRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0YTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9ICIiOwogICAgICAgICAgICAgICAgX3RoaXMucGFnZSA9IHBhcnNlSW50KF90aGlzLiRyb3V0ZS5xdWVyeS5wYWdlKSB8fCAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gVXNlclNlcnZpY2UuZ2V0VXNlckJvYXJkKCIiLmNvbmNhdChBcGkuVVNFUl9ERVRBSUxTLCAiP3BhZ2U9IikuY29uY2F0KF90aGlzLnBhZ2UsICImdXNlcl9pZD0iKS5jb25jYXQoX3RoaXMuJHJvdXRlLnBhcmFtcy51c2VyX2lkKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLnRvdGFscGFnZSA9IE1hdGguY2VpbChyZXNwb25zZS5kYXRhLmNvdW50cyAvIDEwKTsKICAgICAgICAgICAgICAgIF90aGlzLmRhdGEgPSByZXNwb25zZS5kYXRhLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChpdGVtLCBpZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHsKICAgICAgICAgICAgICAgICAgICBpZDogaWQKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFJlc3VsdFBhZ2U6IGZ1bmN0aW9uIGdldFJlc3VsdFBhZ2UocGFnZSkgewogICAgICB0aGlzLnBhZ2UgPSBwYWdlOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogdGhpcy4kcm91dGUuZnVsbFBhdGgsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHBhZ2U6IHRoaXMucGFnZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdG9nZ2xlRGV0YWlsczogZnVuY3Rpb24gdG9nZ2xlRGV0YWlscyhpdGVtKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kc2V0KHRoaXMuZGF0YVtpdGVtLmlkXSwgIl90b2dnbGVkIiwgIWl0ZW0uX3RvZ2dsZWQpOwogICAgICB0aGlzLmNvbGxhcHNlRHVyYXRpb24gPSAzMDA7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuY29sbGFwc2VEdXJhdGlvbiA9IDA7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEJhZGdlOiBmdW5jdGlvbiBnZXRCYWRnZShyZXF1ZXN0X21ldGhvZCkgewogICAgICBzd2l0Y2ggKHJlcXVlc3RfbWV0aG9kKSB7CiAgICAgICAgY2FzZSAiR0VUIjoKICAgICAgICAgIHJldHVybiAic3VjY2VzcyI7CgogICAgICAgIGNhc2UgIk9QVElPTlMiOgogICAgICAgICAgcmV0dXJuICJzZWNvbmRhcnkiOwoKICAgICAgICBjYXNlICJQT1NUIjoKICAgICAgICAgIHJldHVybiAid2FybmluZyI7CgogICAgICAgIGNhc2UgIkRFTEVURSI6CiAgICAgICAgICByZXR1cm4gImRhbmdlciI7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAicHJpbWFyeSI7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["UserListTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <CCardBody>\n    <CDataTable\n      :items=\"changeData\"\n      :fields=\"fields\"\n      :items-per-page=\"10\"\n      hover\n      sorter\n    >\n      <template #request_method=\"{item}\">\n        <td>\n          <CBadge :color=\"getBadge(item.request_method)\">\n            {{ item.request_method }}\n          </CBadge>\n        </td>\n      </template>\n      <template #show_details=\"{item, index}\">\n        <td class=\"py-2\">\n          <CButton\n            color=\"primary\"\n            variant=\"outline\"\n            square\n            size=\"sm\"\n            @click=\"toggleDetails(item, index)\"\n          >\n            {{ Boolean(item._toggled) ? \"Hide\" : \"Show\" }}\n          </CButton>\n        </td>\n      </template>\n      <template #details=\"{item}\">\n        <CCollapse :show=\"Boolean(item._toggled)\" :duration=\"collapseDuration\">\n          <detail-request :item=\"item\"></detail-request>\n        </CCollapse>\n      </template>\n    </CDataTable>\n    <CPagination\n      :activePage.sync=\"page\"\n      :pages=\"totalpage\"\n      size=\"sm\"\n      align=\"center\"\n      @update:activePage=\"getResultPage(page)\"\n    />\n  </CCardBody>\n</template>\n<script>\nimport UserService from \"../../service/userService\";\nimport Api from \"@/constants/backendApi\";\nimport DetailRequest from \"@/components/DetailRequest\";\nexport default {\n  name: \"UserListTable\",\n  components: {\n    DetailRequest\n  },\n  data() {\n    return {\n      data: [],\n      collapseDuration: 0,\n      fields: [\n        { key: \"user_id\" },\n        { key: \"url\" },\n        { key: \"request_method\" },\n        { key: \"status\" },\n        {\n          key: \"show_details\",\n          label: \"Detail\",\n          _style: \"width:1%\",\n          sorter: false,\n          filter: false\n        }\n      ],\n      page: 1,\n      totalpage: 1\n    };\n  },\n  mounted() {\n    this.getData();\n  },\n  watch: {\n    $route(to, from) {\n      if (to !== from) {\n        location.reload();\n      }\n    }\n  },\n  computed: {\n    changeData() {\n      return this.data;\n    }\n  },\n  methods: {\n    async getData() {\n      let response = \"\";\n      this.page = parseInt(this.$route.query.page) || 1;\n\n      response = await UserService.getUserBoard(\n        `${Api.USER_DETAILS}?page=${this.page}&user_id=${this.$route.params.user_id}`\n      );\n\n      this.totalpage = Math.ceil(response.data.counts / 10);\n      this.data = response.data.results.map((item, id) => {\n        return { ...item, id };\n      });\n    },\n    getResultPage(page) {\n      this.page = page;\n      this.$router.push({\n        path: this.$route.fullPath,\n        query: { page: this.page }\n      });\n    },\n    toggleDetails(item) {\n      this.$set(this.data[item.id], \"_toggled\", !item._toggled);\n      this.collapseDuration = 300;\n      this.$nextTick(() => {\n        this.collapseDuration = 0;\n      });\n    },\n    getBadge(request_method) {\n      switch (request_method) {\n        case \"GET\":\n          return \"success\";\n        case \"OPTIONS\":\n          return \"secondary\";\n        case \"POST\":\n          return \"warning\";\n        case \"DELETE\":\n          return \"danger\";\n        default:\n          \"primary\";\n      }\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/components/user-detail"}]}